<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>

    <div hw-app="app1">
        <table>
            <tr><td>product_name</td><td><input type="text" id="product_name" /></td></tr>
            <tr><td>supplier</td><td><input type="text" id="supplier" /></td></tr>
            <tr><td>quantity</td><td><input type="text" id="quantity" /></td></tr>
            <tr><td>unit_cost</td><td><input type="text" id="unit_cost" /></td></tr>
            <tr><td></td><td><input type="button" value="Save" onclick="m1.o.add()" /></td></tr>
        </table>


        <div hw-source="data">
            <p class="anim">
                <strong id="test" style="color:[[m1.o.getColor({{quantity}})]]" onmouseout="changeColor2(this)" onmouseover="changeColor1(this)" onclick="m1.o.test()">{{product_name}}</strong>
                <br />
                {{supplier}}, {{quantity}}, {{unit_cost}}

            </p>

            <hr />

        </div>

    </div>


    <div hw-app="app2">
        
        <div hw-source="data">
            <p class="anim">
                <strong id="test" style="color:[[m2.o.getColor({{quantity}})]]" onclick="m2.o.showAlert(this)">{{product_name}}</strong>
                <br />
                {{supplier}}, {{quantity}}, {{unit_cost}}

            </p>

            <hr />

        </div>

    </div>




    <script src="Repeater.js"></script>
    <script>

        
        var m1 = new $hw("app1",  {
            test: function () {
                alert("test called")

            },
            data: [{
                "product_name": "sildenafil citrate",
                "supplier": "Wisozk Inc",
                "quantity": 261,
                "unit_cost": "$10.47"
            }, {
                "product_name": "Mountain Juniperus ashei",
                "supplier": "Keebler-Hilpert",
                "quantity": 292,
                "unit_cost": "$8.74"
            }, {
                "product_name": "Dextromathorphan HBr",
                "supplier": "Schmitt-Weissnat",
                "quantity": 211,
                "unit_cost": "$20.53"
            }],
            getColor: function (value) {
                if (value == 292) {
                    return "Red"
                }
                return "Blue"
            },
            add : function () {
                this.data.push({
                    "product_name": product_name.value,
                    "supplier": supplier.value,
                    "quantity": quantity.value,
                    "unit_cost": unit_cost.value
                })
                m1.run();
            }
        })
  
        window.onload = m1.run()
        console.log(m1)

        var m2 = new $hw("app2", {
            data: [{
                "product_name": "sildenafil citrate",
                "supplier": "Wisozk Inc",
                "quantity": 261,
                "unit_cost": "$10.47"
            }, {
                "product_name": "Mountain Juniperus ashei",
                "supplier": "Keebler-Hilpert",
                "quantity": 292,
                "unit_cost": "$8.74"
            }, {
                "product_name": "Dextromathorphan HBr",
                "supplier": "Schmitt-Weissnat",
                "quantity": 211,
                "unit_cost": "$20.53"
            }],
            getColor: function (value) {
                if (value == 292) {
                    return "yellow"
                }
                return "skyblue"
            },
            showAlert: function (obj) {
                alert(obj.innerHTML);
            }

        })
            

        m2.run()


 

 ///////////////////////////////////////////////////////////////////////////////////////

        function changeColor1(sender) {
            sender.style.color = "red"
        }
        function changeColor2(sender) {
            sender.style.color = "green"
        }

    </script>


</body>

</html>

